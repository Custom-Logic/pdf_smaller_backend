# PDF Smaller Backend Configuration
# Copy this file to .env and update the values for your environment

# Flask Environment (development, testing, production)
FLASK_ENV=development

# Security Keys (CHANGE THESE IN PRODUCTION!)
SECRET_KEY=your-super-secret-key-change-this-in-production-make-it-at-least-32-characters
JWT_SECRET_KEY=your-jwt-secret-key-change-this-too

# Database Configuration
# SQLite database (used for both development and production)
DATABASE_URL=sqlite:///pdf_smaller_dev.db

# For production, use a different SQLite file:
# DATABASE_URL=sqlite:///pdf_smaller_prod.db

# File Handling
UPLOAD_FOLDER=./uploads
MAX_FILE_SIZE=52428800  # 50MB in bytes
MAX_FILE_AGE_HOURS=2
DEFAULT_COMPRESSION_LEVEL=medium

# Logging
LOG_LEVEL=INFO
LOG_FILE=app.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Security and CORS
ALLOWED_ORIGINS=http://localhost:3000,https://pdfsmaller.site

# Redis Configuration
REDIS_URL=redis://localhost:6379/0

# Rate Limiting
RATE_LIMIT_STRATEGY=fixed-window
RATE_LIMIT_DEFAULT=100 per hour

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TIMEZONE=UTC

# Stripe Payment Configuration (get these from Stripe dashboard)
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_API_VERSION=2023-10-16

# Email Configuration (optional, for notifications)
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_DEFAULT_SENDER=your-email@gmail.com

# Monitoring and Health Checks
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=false

# JWT Token Configuration
JWT_ACCESS_TOKEN_MINUTES=15
JWT_REFRESH_TOKEN_DAYS=7
JWT_ALGORITHM=HS256

# Database Pool Configuration
DB_POOL_RECYCLE=300
DB_POOL_TIMEOUT=20
DB_MAX_OVERFLOW=0

# AI Extraction Features
INVOICE_EXTRACTION_ENABLED=true
BANK_STATEMENT_EXTRACTION_ENABLED=true
EXTRACTION_MAX_FILE_SIZE=52428800  # 50MB
EXTRACTION_TIMEOUT=300  # 5 minutes

# OpenRouter AI Configuration (for AI-powered features)
OPENROUTER_API_KEY=your-openrouter-api-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_DEFAULT_MODEL=deepseek/deepseek-v3-free
OPENROUTER_MAX_TOKENS=4000
OPENROUTER_TIMEOUT=30
OPENROUTER_REFERER=https://www.pdfsmaller.site
OPENROUTER_TITLE=PDF Smaller